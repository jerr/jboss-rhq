<?xml version="1.0" encoding="UTF-8" ?>
<plugin name="hudson"
        displayName="Hudson/Jenkins"
        package="org.rhq.plugins.hudson"
        description="Monitoring of Hudson or Jenkins integration build servers"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="urn:xmlns:rhq-plugin"
        xmlns:c="urn:xmlns:rhq-configuration">
    
    
    <server name="Hudson/Jenkins Server"
        discovery="HudsonDiscoveryComponent"
        class="HudsonServerComponent"
        supportsManualAdd="true">

        <plugin-configuration>
            <c:simple-property name="urlBase" description="The root url path to your hudson or jenkins server interface (e.g. https://hudson.jboss.org/hudson/)"/>
        </plugin-configuration>
        
        <service name="Hudson/Jenkins Project"
            discovery="HudsonProjectDiscoveryComponent"
            class="HudsonProjectComponent">
            
            <metric property="lastSuccessfulBuildNumber" dataType="trait" displayType="summary"/>
            <metric property="lastSuccessfulBuildTime" dataType="trait" units="epoch_milliseconds"/>
            <metric property="lastSuccessfulBuildElapsedTime" units="seconds"/>
            <metric property="lastBuildNumber" dataType="trait"/>
            <metric property="lastBuildTime" dataType="trait" units="epoch_milliseconds"/>
            <metric property="lastBuildElapsedTime" units="seconds"/>
            <metric property="lastBuildResult" dataType="trait" displayType="summary"/>
            <metric property="healthScore" units="percentage" displayType="summary"/>
            <metric property="lastBuildDuration" units="milliseconds" displayType="summary"/>

        </service>
        
    </server>

</plugin>
